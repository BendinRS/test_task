---
# - name: Collecting facts
#   debug:
#    msg:
#       - The hostname of this machine {{  inventory_hostname  }}
#       - ip addresses of the machine {{ ansible_facts['all_ipv4_addresses'] }}
#       - architecture  {{ ansible_facts['architecture'] }}
#       - kernel version {{ ansible_facts['kernel'] }}
#       - distribution {{ ansible_facts['distribution'] }}

# - name: collect facts about system services
#   service_facts:
#   register: services_state
# - name: Debug
#   debug:
#     var: services_state


# - name: system resources
#   debug:
#    msg:
#       - processor {{ ansible_facts['processor'] }}
#       - processor_cores  {{ ansible_facts['processor_cores'] }}
#       - total RAM is {{ ansible_memory_mb.real.total }}
#       - Mem free is {{ ansible_facts['memfree_mb'] }}

  - name: generate information
    template:
      src: './hostname_ip.j2'
      dest: ./info

  - name: vars RAM
    shell: cat ./info
    register: output

  - name: RAM
    debug:
     msg: "{{  output.stdout  }}"



# # - name: system devices
# #   debug:
# #    msg:
# #       - devices {{ ansible_facts['devices'] }}

#  - name: show templating msg
#    debug:
#      msg: "{{ lookup('template', './hostname_ip.j2') }}"

# - name: vars RAM
#   shell: cat /proc/meminfo | grep -E "Mem"
#   register: output

# - name: RAM
#   debug:
#     msg: information about RAM {{  output.stdout  }}


# - name: Output disk information
#   debug:
#     var: hostvars[inventory_hostname].ansible_devices
